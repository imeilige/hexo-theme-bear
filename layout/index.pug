extends ../_partial/layout

block content

  .container.home
    - const posts = (page.posts && page.posts.data) ? page.posts.data : [];
    if posts.length
      each post in posts
        section.article
          a(href=url_for(post.path)).title= post.title || '未命名'
          - const excerptLength = theme.excerpt_length || 160;
          - let excerpt = post.excerpt || strip_html(post.content || '');
          - if (excerpt.length > excerptLength) {
          -   excerpt = excerpt.substring(0, excerptLength) + '...';
          - }
          div.content.excerpt!= excerpt
          if post.tags
            .tags!= list_tags(post.tags, { show_count: false, class: 'tag', style: false, separator: '' })
          div.article-footer
            - const excerptLinkText = theme.excerpt_link || 'Read more';
            a.excerpt-link(href=url_for(post.path))= excerptLinkText
            .article-footer__right
              span.date 写于#{moment(post.date).format(theme.date_format)}
    else
      section.article
        .content
          p 暂无文章。
